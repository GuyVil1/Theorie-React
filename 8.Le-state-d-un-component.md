<h1>Le state d'un Component</h1>

Petit rappel - deux types de Component:

<ul>
  <li>Les Component à état: qui sont les component qu'on instancie avec les Keywords 'Class'</li>
  <li>Les components fonctionnels: qui sont insctancié grâce aux fonctions</li>
  </ul>
  
 

Bon, pour comprendre les state, on va revenir sur notre bout de code de l'horloge, pour afficher une horloge dynamique, on a utilisé un Component fonctionnel de cette manière:

```
import React from 'react';
import ReactDom from 'react-dom';

setInterval(() => {
  const timer = (
    <div>
        <h2>Il est exactement {new Date().toLocaleTimeString()}.</h2>
    </div>
  );
  ReactDom.render(timer, document.getElementById('root'))
}, 1000);
```
En recodant notre fichier et en utilisant un state, on va pouvoir faire quelque chose de plus correct. Mais d'abord, le state d'un composant à état est un objet JavaScript qui va contenir les données dynamiques du composant et déterminer son comportement.C'est ce qui va permettre au Component de réagir au changement de données de manière dynamique.

La principal différence entre un state et un props, c'est la manière avec laquelle ils intéragissent avec d'autres Components.
<ul>
  <li>Props permet de passer des données <strong>en lecture seule</strong> dans d'autres Components.</li>
  <li>State, ne peut être modifié que par le Component sur lequel il est défini.</li>
</ul>

Pour initialiser le state, on va utiliser le constructor. Si tu te rappelles pas, on fait comme ça:

```
class Composant extends Component {

  constructor(props) {
    super(props);
    this.state = {};
  }
  
  ```
  On assigne la state à l'interieur du constructor (c'est le seul endroit ou on pourra le faire). Ce state sera pour le moment un objet vide.
On pourra modifier le state par la suite, en utilisant la méthode ```set.state``` (on verra ça très rapidement)

On va compléter le code de manière à afficher notre horloge, comme dans les chapitres précédents:

```
import React, { Component } from 'react';
import ReactDOM from 'react-dom';

class Componsant extends Component {

    constructor(props){
        super(props);
        this.state = {
            time: new Date().toLocaleTimeString()
        };
    }

    render(){
        return(
            <div> { this.state.time } </div>
        );
    }
}
ReactDOM.render(<Componsant />, document.getElementById('root'));
```

Cette fois, dans notre constructor, on a donné a notre objet state une key ```time``` qui contient la fonction pour récupérer l'heure locale.
Pour afficher le résultat, dans le render, on va juste appeler ce state et la key que l'on veut cibler grâce à ```{ this.state.time} ```
Comme déjà vu, on peut donner plusieurs key à notre state, et les appeler indépendament.

Allez tiens, <h4>Petit exercice</h4> modifie le code pour inclure dans le state une nouvelle key qui aura pour fonction d'aller récupérer la date, et affiche cette date au dessus de l'heure.
Rien de bien compliqué.

<img src="http://www.evolvemediagroup.com/wp-content/uploads/2019/03/too-easy-gif-6.gif" />

Bon comme tout à l'heure, on va afficher notre horloge, mais de manière dynamique. Comme on a calé notre fonction dans time, on va pouvoir procéder différement en n'incluant plus le ```ReactDOM.render()``` dans notre ```setInterval()```



  
  
